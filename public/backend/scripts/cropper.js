!function(b,c){if("object"==typeof exports&&"object"==typeof module)module.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var d=c();for(var e in d)("object"==typeof exports?exports:b)[e]=d[e]}}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){"use strict";function w(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function x(a){return a&&a.__esModule?a:{default:a}}function y(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=c(1),f=x(e),g=c(2),h=x(g),i=c(3),j=x(i),k=c(5),l=x(k),m=c(6),n=x(m),o=c(7),p=x(o),q=c(8),r=x(q),s=c(9),t=x(s),u=c(4),v=w(u),z="cropper",A=z+"-hidden",B="error",C="load",D="ready",E="crop",F=/^data:/,G=/^data:image\/jpeg.*;base64,/,H=void 0,I=function(){function a(b,c){y(this,a);var d=this;d.element=b,d.options=v.extend({},f.default,v.isPlainObject(c)&&c),d.loaded=!1,d.ready=!1,d.complete=!1,d.rotated=!1,d.cropped=!1,d.disabled=!1,d.replaced=!1,d.limited=!1,d.wheeling=!1,d.isImg=!1,d.originalUrl="",d.canvasData=null,d.cropBoxData=null,d.previews=null,d.init()}return d(a,[{key:"init",value:function(){var b=this,c=b.element,d=c.tagName.toLowerCase(),e=void 0;if(!v.getData(c,z)){if(v.setData(c,z,b),"img"===d){if(b.isImg=!0,b.originalUrl=e=c.getAttribute("src"),!e)return;e=c.src}else"canvas"===d&&window.HTMLCanvasElement&&(e=c.toDataURL());b.load(e)}}},{key:"load",value:function(b){var c=this,d=c.options,e=c.element;if(b){if(c.url=b,c.imageData={},!d.checkOrientation||!window.ArrayBuffer)return void c.clone();if(F.test(b))return void(G?c.read(v.dataURLToArrayBuffer(b)):c.clone());var f=new XMLHttpRequest;f.onerror=f.onabort=function(){c.clone()},f.onload=function(){c.read(f.response)},d.checkCrossOrigin&&v.isCrossOriginURL(b)&&e.crossOrigin&&(b=v.addTimestamp(b)),f.open("get",b),f.responseType="arraybuffer",f.send()}}},{key:"read",value:function(b){var c=this,d=c.options,e=v.getOrientation(b),f=c.imageData,g=0,h=1,i=1;if(e>1)switch(c.url=v.arrayBufferToDataURL(b),e){case 2:h=-1;break;case 3:g=-180;break;case 4:i=-1;break;case 5:g=90,i=-1;break;case 6:g=90;break;case 7:g=90,h=-1;break;case 8:g=-90}d.rotatable&&(f.rotate=g),d.scalable&&(f.scaleX=h,f.scaleY=i),c.clone()}},{key:"clone",value:function(){var b=this,c=b.element,d=b.url,e=void 0,f=void 0,g=void 0,h=void 0;b.options.checkCrossOrigin&&v.isCrossOriginURL(d)&&(e=c.crossOrigin,e?f=d:(e="anonymous",f=v.addTimestamp(d))),b.crossOrigin=e,b.crossOriginUrl=f;var i=v.createElement("img");e&&(i.crossOrigin=e),i.src=f||d,b.image=i,b.onStart=g=v.proxy(b.start,b),b.onStop=h=v.proxy(b.stop,b),b.isImg?c.complete?b.start():v.addListener(c,C,g):(v.addListener(i,C,g),v.addListener(i,B,h),v.addClass(i,"cropper-hide"),c.parentNode.insertBefore(i,c.nextSibling))}},{key:"start",value:function(b){var c=this,d=c.isImg?c.element:c.image;b&&(v.removeListener(d,C,c.onStart),v.removeListener(d,B,c.onStop)),v.getImageSize(d,function(a,b){v.extend(c.imageData,{naturalWidth:a,naturalHeight:b,aspectRatio:a/b}),c.loaded=!0,c.build()})}},{key:"stop",value:function(){var b=this,c=b.image;v.removeListener(c,C,b.onStart),v.removeListener(c,B,b.onStop),v.removeChild(c),b.image=null}},{key:"build",value:function(){var b=this,c=b.options,d=b.element,e=b.image,f=void 0,g=void 0,i=void 0,j=void 0,k=void 0,l=void 0;if(b.loaded){b.ready&&b.unbuild();var m=v.createElement("div");m.innerHTML=h.default,b.container=f=d.parentNode,b.cropper=g=v.getByClass(m,"cropper-container")[0],b.canvas=i=v.getByClass(g,"cropper-canvas")[0],b.dragBox=j=v.getByClass(g,"cropper-drag-box")[0],b.cropBox=k=v.getByClass(g,"cropper-crop-box")[0],b.viewBox=v.getByClass(g,"cropper-view-box")[0],b.face=l=v.getByClass(k,"cropper-face")[0],v.appendChild(i,e),v.addClass(d,A),f.insertBefore(g,d.nextSibling),b.isImg||v.removeClass(e,"cropper-hide"),b.initPreview(),b.bind(),c.aspectRatio=Math.max(0,c.aspectRatio)||NaN,c.viewMode=Math.max(0,Math.min(3,Math.round(c.viewMode)))||0,c.autoCrop?(b.cropped=!0,c.modal&&v.addClass(j,"cropper-modal")):v.addClass(k,A),c.guides||v.addClass(v.getByClass(k,"cropper-dashed"),A),c.center||v.addClass(v.getByClass(k,"cropper-center"),A),c.background&&v.addClass(g,"cropper-bg"),c.highlight||v.addClass(l,"cropper-invisible"),c.cropBoxMovable&&(v.addClass(l,"cropper-move"),v.setData(l,"action","all")),c.cropBoxResizable||(v.addClass(v.getByClass(k,"cropper-line"),A),v.addClass(v.getByClass(k,"cropper-point"),A)),b.setDragMode(c.dragMode),b.render(),b.ready=!0,b.setData(c.data),b.completing=setTimeout(function(){v.isFunction(c.ready)&&v.addListener(d,D,c.ready,!0),v.dispatchEvent(d,D),v.dispatchEvent(d,E,b.getData()),b.complete=!0},0)}}},{key:"unbuild",value:function(){var b=this;b.ready&&(b.complete||clearTimeout(b.completing),b.ready=!1,b.complete=!1,b.initialImageData=null,b.initialCanvasData=null,b.initialCropBoxData=null,b.containerData=null,b.canvasData=null,b.cropBoxData=null,b.unbind(),b.resetPreview(),b.previews=null,b.viewBox=null,b.cropBox=null,b.dragBox=null,b.canvas=null,b.container=null,v.removeChild(b.cropper),b.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=H,a}},{key:"setDefaults",value:function(b){v.extend(f.default,v.isPlainObject(b)&&b)}}]),a}();v.extend(I.prototype,j.default),v.extend(I.prototype,l.default),v.extend(I.prototype,n.default),v.extend(I.prototype,p.default),v.extend(I.prototype,r.default),v.extend(I.prototype,t.default),"undefined"!=typeof window&&(H=window.Cropper,window.Cropper=I),b.default=I},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=f(d);b.default={render:function(){var b=this;b.initContainer(),b.initCanvas(),b.initCropBox(),b.renderCanvas(),b.cropped&&b.renderCropBox()},initContainer:function(){var b=this,c=b.options,d=b.element,f=b.container,g=b.cropper,h=void 0;e.addClass(g,"cropper-hidden"),e.removeClass(d,"cropper-hidden"),b.containerData=h={width:Math.max(f.offsetWidth,Number(c.minContainerWidth)||200),height:Math.max(f.offsetHeight,Number(c.minContainerHeight)||100)},e.setStyle(g,{width:h.width,height:h.height}),e.addClass(d,"cropper-hidden"),e.removeClass(g,"cropper-hidden")},initCanvas:function(){var b=this,c=b.options.viewMode,d=b.containerData,f=b.imageData,g=90===Math.abs(f.rotate),h=g?f.naturalHeight:f.naturalWidth,i=g?f.naturalWidth:f.naturalHeight,j=h/i,k=d.width,l=d.height;d.height*j>d.width?3===c?k=d.height*j:l=d.width/j:3===c?l=d.width/j:k=d.height*j;var m={naturalWidth:h,naturalHeight:i,aspectRatio:j,width:k,height:l};m.oldLeft=m.left=(d.width-k)/2,m.oldTop=m.top=(d.height-l)/2,b.canvasData=m,b.limited=1===c||2===c,b.limitCanvas(!0,!0),b.initialImageData=e.extend({},f),b.initialCanvasData=e.extend({},m)},limitCanvas:function(b,c){var d=this,e=d.options,f=e.viewMode,g=d.containerData,h=d.canvasData,i=h.aspectRatio,j=d.cropBoxData,k=d.cropped&&j,l=void 0,m=void 0,n=void 0,o=void 0;b&&(l=Number(e.minCanvasWidth)||0,m=Number(e.minCanvasHeight)||0,f>1?(l=Math.max(l,g.width),m=Math.max(m,g.height),3===f&&(m*i>l?l=m*i:m=l/i)):f>0&&(l?l=Math.max(l,k?j.width:0):m?m=Math.max(m,k?j.height:0):k&&(l=j.width,m=j.height,m*i>l?l=m*i:m=l/i)),l&&m?m*i>l?m=l/i:l=m*i:l?m=l/i:m&&(l=m*i),h.minWidth=l,h.minHeight=m,h.maxWidth=1/0,h.maxHeight=1/0),c&&(f?(n=g.width-h.width,o=g.height-h.height,h.minLeft=Math.min(0,n),h.minTop=Math.min(0,o),h.maxLeft=Math.max(0,n),h.maxTop=Math.max(0,o),k&&d.limited&&(h.minLeft=Math.min(j.left,j.left+(j.width-h.width)),h.minTop=Math.min(j.top,j.top+(j.height-h.height)),h.maxLeft=j.left,h.maxTop=j.top,2===f&&(h.width>=g.width&&(h.minLeft=Math.min(0,n),h.maxLeft=Math.max(0,n)),h.height>=g.height&&(h.minTop=Math.min(0,o),h.maxTop=Math.max(0,o))))):(h.minLeft=-h.width,h.minTop=-h.height,h.maxLeft=g.width,h.maxTop=g.height))},renderCanvas:function(b){var c=this,d=c.canvasData,f=c.imageData,g=f.rotate,h=void 0,i=void 0;c.rotated&&(c.rotated=!1,i=e.getRotatedSizes({width:f.width,height:f.height,degree:g}),h=i.width/i.height,h!==d.aspectRatio&&(d.left-=(i.width-d.width)/2,d.top-=(i.height-d.height)/2,d.width=i.width,d.height=i.height,d.aspectRatio=h,d.naturalWidth=f.naturalWidth,d.naturalHeight=f.naturalHeight,g%180&&(i=e.getRotatedSizes({width:f.naturalWidth,height:f.naturalHeight,degree:g}),d.naturalWidth=i.width,d.naturalHeight=i.height),c.limitCanvas(!0,!1))),(d.width>d.maxWidth||d.width<d.minWidth)&&(d.left=d.oldLeft),(d.height>d.maxHeight||d.height<d.minHeight)&&(d.top=d.oldTop),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),c.limitCanvas(!1,!0),d.oldLeft=d.left=Math.min(Math.max(d.left,d.minLeft),d.maxLeft),d.oldTop=d.top=Math.min(Math.max(d.top,d.minTop),d.maxTop),e.setStyle(c.canvas,{width:d.width,height:d.height,left:d.left,top:d.top}),c.renderImage(),c.cropped&&c.limited&&c.limitCropBox(!0,!0),b&&c.output()},renderImage:function(b){var c=this,d=c.canvasData,f=c.imageData,g=void 0,h=void 0,i=void 0,j=void 0;f.rotate&&(h=e.getRotatedSizes({width:d.width,height:d.height,degree:f.rotate,aspectRatio:f.aspectRatio},!0),i=h.width,j=h.height,g={width:i,height:j,left:(d.width-i)/2,top:(d.height-j)/2}),e.extend(f,g||{width:d.width,height:d.height,left:0,top:0});var k=e.getTransform(f);e.setStyle(c.image,{width:f.width,height:f.height,marginLeft:f.left,marginTop:f.top,WebkitTransform:k,msTransform:k,transform:k}),b&&c.output()},initCropBox:function(){var b=this,c=b.options,d=c.aspectRatio,f=Number(c.autoCropArea)||.8,g=b.canvasData,h={width:g.width,height:g.height};d&&(g.height*d>g.width?h.height=h.width/d:h.width=h.height*d),b.cropBoxData=h,b.limitCropBox(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.width=Math.max(h.minWidth,h.width*f),h.height=Math.max(h.minHeight,h.height*f),h.oldLeft=h.left=g.left+(g.width-h.width)/2,h.oldTop=h.top=g.top+(g.height-h.height)/2,b.initialCropBoxData=e.extend({},h)},limitCropBox:function(b,c){var d=this,e=d.options,f=e.aspectRatio,g=d.containerData,h=d.canvasData,i=d.cropBoxData,j=d.limited,k=void 0,l=void 0,m=void 0,n=void 0;b&&(k=Number(e.minCropBoxWidth)||0,l=Number(e.minCropBoxHeight)||0,k=Math.min(k,g.width),l=Math.min(l,g.height),m=Math.min(g.width,j?h.width:g.width),n=Math.min(g.height,j?h.height:g.height),f&&(k&&l?l*f>k?l=k/f:k=l*f:k?l=k/f:l&&(k=l*f),n*f>m?n=m/f:m=n*f),i.minWidth=Math.min(k,m),i.minHeight=Math.min(l,n),i.maxWidth=m,i.maxHeight=n),c&&(j?(i.minLeft=Math.max(0,h.left),i.minTop=Math.max(0,h.top),i.maxLeft=Math.min(g.width,h.left+h.width)-i.width,i.maxTop=Math.min(g.height,h.top+h.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=g.width-i.width,i.maxTop=g.height-i.height))},renderCropBox:function(){var b=this,c=b.options,d=b.containerData,f=b.cropBoxData;(f.width>f.maxWidth||f.width<f.minWidth)&&(f.left=f.oldLeft),(f.height>f.maxHeight||f.height<f.minHeight)&&(f.top=f.oldTop),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),b.limitCropBox(!1,!0),f.oldLeft=f.left=Math.min(Math.max(f.left,f.minLeft),f.maxLeft),f.oldTop=f.top=Math.min(Math.max(f.top,f.minTop),f.maxTop),c.movable&&c.cropBoxMovable&&e.setData(b.face,"action",f.width===d.width&&f.height===d.height?"move":"all"),e.setStyle(b.cropBox,{width:f.width,height:f.height,left:f.left,top:f.top}),b.cropped&&b.limited&&b.limitCanvas(!0,!0),b.disabled||b.output()},output:function(){var b=this;b.preview(),b.complete&&e.dispatchEvent(b.element,"crop",b.getData())}}},function(a,b){"use strict";function r(a){return n.call(a).slice(8,-1).toLowerCase()}function s(a){return"number"==typeof a&&!isNaN(a)}function t(a){return"undefined"==typeof a}function u(a){return"object"===("undefined"==typeof a?"undefined":c(a))&&null!==a}function v(a){if(!u(a))return!1;try{var b=a.constructor,c=b.prototype;return b&&c&&o.call(c,"isPrototypeOf")}catch(a){return!1}}function w(a){return"function"===r(a)}function x(a){return Array.isArray?Array.isArray(a):"array"===r(a)}function y(a,b){return b=b>=0?b:0,Array.from?Array.from(a).slice(b):p.call(a,b)}function z(a){return"string"==typeof a&&(a=a.trim?a.trim():a.replace(i,"$1")),a}function A(a,b){if(a&&w(b)){var c=void 0;if(x(a)||s(a.length)){var d=a.length;for(c=0;c<d&&b.call(a,a[c],c,a)!==!1;c++);}else u(a)&&Object.keys(a).forEach(function(c){b.call(a,a[c],c,a)})}return a}function B(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b[0]===!0,e=d?b[1]:b[0];return b.length>1&&(b.shift(),b.forEach(function(a){u(a)&&Object.keys(a).forEach(function(b){d&&u(e[b])?B(!0,e[b],a[b]):e[b]=a[b]})})),e}function C(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return function(){for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return a.apply(b,d.concat(e))}}function D(a,b){var c=a.style;A(b,function(a,b){h.test(b)&&s(a)&&(a+="px"),c[b]=a})}function E(a,b){return a.classList?a.classList.contains(b):a.className.indexOf(b)>-1}function F(a,b){if(s(a.length))return void A(a,function(a){F(a,b)});if(a.classList)return void a.classList.add(b);var c=z(a.className);c?c.indexOf(b)<0&&(a.className=c+" "+b):a.className=b}function G(a,b){return s(a.length)?void A(a,function(a){G(a,b)}):a.classList?void a.classList.remove(b):void(a.className.indexOf(b)>=0&&(a.className=a.className.replace(b,"")))}function H(a,b,c){return s(a.length)?void A(a,function(a){H(a,b,c)}):void(c?F(a,b):G(a,b))}function I(a){return a.replace(e,"$1-$2").toLowerCase()}function J(a,b){return u(a[b])?a[b]:a.dataset?a.dataset[b]:a.getAttribute("data-"+I(b))}function K(a,b,c){u(c)?a[b]=c:a.dataset?a.dataset[b]=c:a.setAttribute("data-"+I(b),c)}function L(a,b){u(a[b])?delete a[b]:a.dataset?delete a.dataset[b]:a.removeAttribute("data-"+I(b))}function M(a,b,c){var d=z(b).split(g);return d.length>1?void A(d,function(b){M(a,b,c)}):void(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c))}function N(a,b,c,d){var e=z(b).split(g),f=c;return e.length>1?void A(e,function(b){N(a,b,c)}):(d&&(c=function(){for(var e=arguments.length,g=Array(e),h=0;h<e;h++)g[h]=arguments[h];return M(a,b,c),f.apply(a,g)}),void(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on${type}",c)))}function O(a,b,c){if(a.dispatchEvent){var d=void 0;return w(Event)&&w(CustomEvent)?d=t(c)?new Event(b,{bubbles:!0,cancelable:!0}):new CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0}):t(c)?(d=document.createEvent("Event"),d.initEvent(b,!0,!0)):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!0,!0,c)),a.dispatchEvent(d)}return!a.fireEvent||a.fireEvent("on"+b)}function P(a){var b=a||window.event;if(b.target||(b.target=b.srcElement||document),!s(b.pageX)&&s(b.clientX)){var c=a.target.ownerDocument||document,d=c.documentElement,e=c.body;b.pageX=b.clientX+((d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0)),b.pageY=b.clientY+((d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0))}return b}function Q(a){var b=document.documentElement,c=a.getBoundingClientRect();return{left:c.left+((window.scrollX||b&&b.scrollLeft||0)-(b&&b.clientLeft||0)),top:c.top+((window.scrollY||b&&b.scrollTop||0)-(b&&b.clientTop||0))}}function R(a){var b=a.length,c=0,d=0;return b&&(A(a,function(a){c+=a.pageX,d+=a.pageY}),c/=b,d/=b),{pageX:c,pageY:d}}function S(a,b){return a.getElementsByTagName(b)}function T(a,b){return a.getElementsByClassName?a.getElementsByClassName(b):a.querySelectorAll("."+b)}function U(a){return document.createElement(a)}function V(a,b){a.appendChild(b)}function W(a){a.parentNode&&a.parentNode.removeChild(a)}function X(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Y(a){var b=a.match(f);return b&&(b[1]!==location.protocol||b[2]!==location.hostname||b[3]!==location.port)}function Z(a){var b="timestamp="+(new Date).getTime();return a+(a.indexOf("?")===-1?"?":"&")+b}function $(a,b){if(a.naturalWidth&&!l)return void b(a.naturalWidth,a.naturalHeight);var c=U("img");c.onload=function(){b(this.width,this.height)},c.src=a.src}function _(a){var b=[],c=a.rotate,d=a.scaleX,e=a.scaleY;return s(c)&&0!==c&&b.push("rotate("+c+"deg)"),s(d)&&1!==d&&b.push("scaleX("+d+")"),s(e)&&1!==e&&b.push("scaleY("+e+")"),b.length?b.join(" "):"none"}function aa(a,b){var c=Math.abs(a.degree)%180,d=(c>90?180-c:c)*Math.PI/180,e=Math.sin(d),f=Math.cos(d),g=a.width,h=a.height,i=a.aspectRatio,j=void 0,k=void 0;return b?(j=g/(f+e/i),k=j/i):(j=g*f+h*e,k=g*e+h*f),{width:j,height:k}}function ba(a,b){var c=U("canvas"),d=c.getContext("2d"),e=0,f=0,g=b.naturalWidth,h=b.naturalHeight,i=b.rotate,j=b.scaleX,k=b.scaleY,l=s(j)&&s(k)&&(1!==j||1!==k),m=s(i)&&0!==i,n=m||l,o=g*Math.abs(j||1),p=h*Math.abs(k||1),q=void 0,r=void 0,t=void 0;return l&&(q=o/2,r=p/2),m&&(t=aa({width:o,height:p,degree:i}),o=t.width,p=t.height,q=o/2,r=p/2),c.width=o,c.height=p,n&&(e=-g/2,f=-h/2,d.save(),d.translate(q,r)),m&&d.rotate(i*Math.PI/180),l&&d.scale(j,k),d.drawImage(a,Math.floor(e),Math.floor(f),Math.floor(g),Math.floor(h)),n&&d.restore(),c}function ca(a,b,c){var d="",e=b;for(c+=b;e<c;e++)d+=q(a.getUint8(e));return d}function da(a){var b=new DataView(a),c=b.byteLength,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,m=void 0,n=void 0;if(255===b.getUint8(0)&&216===b.getUint8(1))for(m=2;m<c;){if(255===b.getUint8(m)&&225===b.getUint8(m+1)){j=m;break}m++}if(j&&(e=j+4,f=j+10,"Exif"===ca(b,e,4)&&(i=b.getUint16(f),h=18761===i,(h||19789===i)&&42===b.getUint16(f+2,h)&&(g=b.getUint32(f+4,h),g>=8&&(k=f+g)))),k)for(c=b.getUint16(k,h),n=0;n<c;n++)if(m=k+12*n+2,274===b.getUint16(m,h)){m+=8,d=b.getUint16(m,h),l&&b.setUint16(m,1,h);break}return d}function ea(a){var b=a.replace(d,""),c=atob(b),e=c.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=void 0;for(h=0;h<e;h++)g[h]=c.charCodeAt(h);return f}function fa(a){var b=new Uint8Array(a),c=b.length,d="",e=void 0;for(e=0;e<c;e++)d+=q(b[e]);return"data:image/jpeg;base64,"+btoa(d)}Object.defineProperty(b,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};b.typeOf=r,b.isNumber=s,b.isUndefined=t,b.isObject=u,b.isPlainObject=v,b.isFunction=w,b.isArray=x,b.toArray=y,b.trim=z,b.each=A,b.extend=B,b.proxy=C,b.setStyle=D,b.hasClass=E,b.addClass=F,b.removeClass=G,b.toggleClass=H,b.hyphenate=I,b.getData=J,b.setData=K,b.removeData=L,b.removeListener=M,b.dispatchEvent=O,b.getEvent=P,b.getOffset=Q,b.getTouchesCenter=R,b.getByTag=S,b.getByClass=T,b.createElement=U,b.appendChild=V,b.removeChild=W,b.empty=X,b.isCrossOriginURL=Y,b.addTimestamp=Z,b.getImageSize=$,b.getTransform=_,b.getRotatedSizes=aa,b.getSourceCanvas=ba,b.getStringFromCharCode=ca,b.getOrientation=da,b.dataURLToArrayBuffer=ea,b.arrayBufferToDataURL=fa;var d=/^data:([^;]+);base64,/,e=/([a-z\d])([A-Z])/g,f=/^(https?:)\/\/([^:\/\?#]+):?(\d*)/i,g=/\s+/,h=/^(width|height|left|top|marginLeft|marginTop)$/,i=/^\s+(.*)\s+$/,j=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,k=window.navigator,l=k&&j.test(k.userAgent),m=Object.prototype,n=m.toString,o=m.hasOwnProperty,p=Array.prototype.slice,q=String.fromCharCode;b.addListener=N},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=f(d),g="preview";b.default={initPreview:function(){var b=this,c=b.options.preview,d=e.createElement("img"),f=b.crossOrigin,h=f?b.crossOriginUrl:b.url;if(f&&(d.crossOrigin=f),d.src=h,e.appendChild(b.viewBox,d),b.image2=d,c){var i=document.querySelectorAll(c);b.previews=i,e.each(i,function(a){var b=e.createElement("img");e.setData(a,g,{width:a.offsetWidth,height:a.offsetHeight,html:a.innerHTML}),f&&(b.crossOrigin=f),b.src=h,b.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.empty(a),e.appendChild(a,b)})}},resetPreview:function(){e.each(this.previews,function(a){var b=e.getData(a,g);e.setStyle(a,{width:b.width,height:b.height}),a.innerHTML=b.html,e.removeData(a,g)})},preview:function(){var b=this,c=b.imageData,d=b.canvasData,f=b.cropBoxData,h=f.width,i=f.height,j=c.width,k=c.height,l=f.left-d.left-c.left,m=f.top-d.top-c.top,n=e.getTransform(c),o={WebkitTransform:n,msTransform:n,transform:n};b.cropped&&!b.disabled&&(e.setStyle(b.image2,e.extend({width:j,height:k,marginLeft:-l,marginTop:-m},o)),e.each(b.previews,function(a){var b=e.getData(a,g),c=b.width,d=b.height,f=c,n=d,p=1;h&&(p=c/h,n=i*p),i&&n>d&&(p=d/i,f=h*p,n=d),e.setStyle(a,{width:f,height:n}),e.setStyle(e.getByTag(a,"img")[0],e.extend({width:j*p,height:k*p,marginLeft:-l*p,marginTop:-m*p},o))}))}}},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=f(d),g="mousedown touchstart pointerdown MSPointerDown",h="mousemove touchmove pointermove MSPointerMove",i="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",j="wheel mousewheel DOMMouseScroll",k="dblclick",l="resize",m="cropstart",n="cropmove",o="cropend",p="crop",q="zoom";b.default={bind:function(){var b=this,c=b.options,d=b.element,f=b.cropper;e.isFunction(c.cropstart)&&e.addListener(d,m,c.cropstart),e.isFunction(c.cropmove)&&e.addListener(d,n,c.cropmove),e.isFunction(c.cropend)&&e.addListener(d,o,c.cropend),e.isFunction(c.crop)&&e.addListener(d,p,c.crop),e.isFunction(c.zoom)&&e.addListener(d,q,c.zoom),e.addListener(f,g,b.onCropStart=e.proxy(b.cropStart,b)),c.zoomable&&c.zoomOnWheel&&e.addListener(f,j,b.onWheel=e.proxy(b.wheel,b)),c.toggleDragModeOnDblclick&&e.addListener(f,k,b.onDblclick=e.proxy(b.dblclick,b)),e.addListener(document,h,b.onCropMove=e.proxy(b.cropMove,b)),e.addListener(document,i,b.onCropEnd=e.proxy(b.cropEnd,b)),c.responsive&&e.addListener(window,l,b.onResize=e.proxy(b.resize,b))},unbind:function(){var b=this,c=b.options,d=b.element,f=b.cropper;e.isFunction(c.cropstart)&&e.removeListener(d,m,c.cropstart),e.isFunction(c.cropmove)&&e.removeListener(d,n,c.cropmove),e.isFunction(c.cropend)&&e.removeListener(d,o,c.cropend),e.isFunction(c.crop)&&e.removeListener(d,p,c.crop),e.isFunction(c.zoom)&&e.removeListener(d,q,c.zoom),e.removeListener(f,g,b.onCropStart),c.zoomable&&c.zoomOnWheel&&e.removeListener(f,j,b.onWheel),c.toggleDragModeOnDblclick&&e.removeListener(f,k,b.onDblclick),e.removeListener(document,h,b.onCropMove),e.removeListener(document,i,b.onCropEnd),c.responsive&&e.removeListener(window,l,b.onResize)}}},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.REGEXP_ACTIONS=void 0;var d=c(4),e=f(d),g=b.REGEXP_ACTIONS=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;b.default={resize:function(){var b=this,c=b.options.restore,d=b.container,f=b.containerData;if(!b.disabled&&f){var g=d.offsetWidth/f.width,h=void 0,i=void 0;1===g&&d.offsetHeight===f.height||(c&&(h=b.getCanvasData(),i=b.getCropBoxData()),b.render(),c&&(b.setCanvasData(e.each(h,function(a,b){h[b]=a*g})),b.setCropBoxData(e.each(i,function(a,b){i[b]=a*g}))))}},dblclick:function(){var b=this;b.disabled||b.setDragMode(e.hasClass(b.dragBox,"cropper-crop")?"move":"crop")},wheel:function(b){var c=this,d=e.getEvent(b),f=Number(c.options.wheelZoomRatio)||.1,g=1;c.disabled||(d.preventDefault(),c.wheeling||(c.wheeling=!0,setTimeout(function(){c.wheeling=!1},50),d.deltaY?g=d.deltaY>0?1:-1:d.wheelDelta?g=-d.wheelDelta/120:d.detail&&(g=d.detail>0?1:-1),c.zoom(-g*f,d)))},cropStart:function(b){var c=this,d=c.options,f=e.getEvent(b),h=f.touches,i=void 0,j=void 0,k=void 0;if(!c.disabled){if(h){if(i=h.length,i>1){if(!d.zoomable||!d.zoomOnTouch||2!==i)return;j=h[1],c.startX2=j.pageX,c.startY2=j.pageY,k="zoom"}j=h[0]}if(k=k||e.getData(f.target,"action"),g.test(k)){if(e.dispatchEvent(c.element,"cropstart",{originalEvent:f,action:k})===!1)return;f.preventDefault(),c.action=k,c.cropping=!1,c.startX=j?j.pageX:f.pageX,c.startY=j?j.pageY:f.pageY,"crop"===k&&(c.cropping=!0,e.addClass(c.dragBox,"cropper-modal"))}}},cropMove:function(b){var c=this,d=c.options,f=e.getEvent(b),g=f.touches,h=c.action,i=void 0,j=void 0;if(!c.disabled){if(g){if(i=g.length,i>1){if(!d.zoomable||!d.zoomOnTouch||2!==i)return;j=g[1],c.endX2=j.pageX,c.endY2=j.pageY}j=g[0]}if(h){if(e.dispatchEvent(c.element,"cropmove",{originalEvent:f,action:h})===!1)return;f.preventDefault(),c.endX=j?j.pageX:f.pageX,c.endY=j?j.pageY:f.pageY,c.change(f.shiftKey,"zoom"===h?f:null)}}},cropEnd:function(b){var c=this,d=c.options,f=e.getEvent(b),g=c.action;c.disabled||g&&(f.preventDefault(),c.cropping&&(c.cropping=!1,e.toggleClass(c.dragBox,"cropper-modal",c.cropped&&d.modal)),c.action="",e.dispatchEvent(c.element,"cropend",{originalEvent:f,action:g}))}}},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=f(d),g="e",h="w",i="s",j="n",k="se",l="sw",m="ne",n="nw";b.default={change:function(b,c){var d=this,f=d.options,o=d.containerData,p=d.canvasData,q=d.cropBoxData,r=f.aspectRatio,s=d.action,t=q.width,u=q.height,v=q.left,w=q.top,x=v+t,y=w+u,z=0,A=0,B=o.width,C=o.height,D=!0,E=void 0;!r&&b&&(r=t&&u?t/u:1),d.limited&&(z=q.minLeft,A=q.minTop,B=z+Math.min(o.width,p.width,p.left+p.width),C=A+Math.min(o.height,p.height,p.top+p.height));var F={x:d.endX-d.startX,y:d.endY-d.startY};switch(r&&(F.X=F.y*r,F.Y=F.x/r),s){case"all":v+=F.x,w+=F.y;break;case g:if(F.x>=0&&(x>=B||r&&(w<=A||y>=C))){D=!1;break}t+=F.x,r&&(u=t/r,w-=F.Y/2),t<0&&(s=h,t=0);break;case j:if(F.y<=0&&(w<=A||r&&(v<=z||x>=B))){D=!1;break}u-=F.y,w+=F.y,r&&(t=u*r,v+=F.X/2),u<0&&(s=i,u=0);break;case h:if(F.x<=0&&(v<=z||r&&(w<=A||y>=C))){D=!1;break}t-=F.x,v+=F.x,r&&(u=t/r,w+=F.Y/2),t<0&&(s=g,t=0);break;case i:if(F.y>=0&&(y>=C||r&&(v<=z||x>=B))){D=!1;break}u+=F.y,r&&(t=u*r,v-=F.X/2),u<0&&(s=j,u=0);break;case m:if(r){if(F.y<=0&&(w<=A||x>=B)){D=!1;break}u-=F.y,w+=F.y,t=u*r}else F.x>=0?x<B?t+=F.x:F.y<=0&&w<=A&&(D=!1):t+=F.x,F.y<=0?w>A&&(u-=F.y,w+=F.y):(u-=F.y,w+=F.y);t<0&&u<0?(s=l,u=0,t=0):t<0?(s=n,t=0):u<0&&(s=k,u=0);break;case n:if(r){if(F.y<=0&&(w<=A||v<=z)){D=!1;break}u-=F.y,w+=F.y,t=u*r,v+=F.X}else F.x<=0?v>z?(t-=F.x,v+=F.x):F.y<=0&&w<=A&&(D=!1):(t-=F.x,v+=F.x),F.y<=0?w>A&&(u-=F.y,w+=F.y):(u-=F.y,w+=F.y);t<0&&u<0?(s=k,u=0,t=0):t<0?(s=m,t=0):u<0&&(s=l,u=0);break;case l:if(r){if(F.x<=0&&(v<=z||y>=C)){D=!1;break}t-=F.x,v+=F.x,u=t/r}else F.x<=0?v>z?(t-=F.x,v+=F.x):F.y>=0&&y>=C&&(D=!1):(t-=F.x,v+=F.x),F.y>=0?y<C&&(u+=F.y):u+=F.y;t<0&&u<0?(s=m,u=0,t=0):t<0?(s=k,t=0):u<0&&(s=n,u=0);break;case k:if(r){if(F.x>=0&&(x>=B||y>=C)){D=!1;break}t+=F.x,u=t/r}else F.x>=0?x<B?t+=F.x:F.y>=0&&y>=C&&(D=!1):t+=F.x,F.y>=0?y<C&&(u+=F.y):u+=F.y;t<0&&u<0?(s=n,u=0,t=0):t<0?(s=l,t=0):u<0&&(s=m,u=0);break;case"move":d.move(F.x,F.y),D=!1;break;case"zoom":d.zoom(function(a,b,c,d){var e=Math.sqrt(a*a+b*b),f=Math.sqrt(c*c+d*d);return(f-e)/e}(Math.abs(d.startX-d.startX2),Math.abs(d.startY-d.startY2),Math.abs(d.endX-d.endX2),Math.abs(d.endY-d.endY2)),c),d.startX2=d.endX2,d.startY2=d.endY2,D=!1;break;case"crop":if(!F.x||!F.y){D=!1;break}E=e.getOffset(d.cropper),v=d.startX-E.left,w=d.startY-E.top,t=q.minWidth,u=q.minHeight,F.x>0?s=F.y>0?k:m:F.x<0&&(v-=t,s=F.y>0?l:n),F.y<0&&(w-=u),d.cropped||(e.removeClass(d.cropBox,"cropper-hidden"),d.cropped=!0,d.limited&&d.limitCropBox(!0,!0))}D&&(q.width=t,q.height=u,q.left=v,q.top=w,d.action=s,d.renderCropBox()),d.startX=d.endX,d.startY=d.endY}}},function(a,b,c){"use strict";function f(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function g(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=f(d);b.default={crop:function(){var b=this;return b.ready&&!b.disabled&&(b.cropped||(b.cropped=!0,b.limitCropBox(!0,!0),b.options.modal&&e.addClass(b.dragBox,"cropper-modal"),e.removeClass(b.cropBox,"cropper-hidden")),b.setCropBoxData(b.initialCropBoxData)),b},reset:function(){var b=this;return b.ready&&!b.disabled&&(b.imageData=e.extend({},b.initialImageData),b.canvasData=e.extend({},b.initialCanvasData),b.cropBoxData=e.extend({},b.initialCropBoxData),b.renderCanvas(),b.cropped&&b.renderCropBox()),b},clear:function(){var b=this;return console.log("clear"),b.cropped&&!b.disabled&&(e.extend(b.cropBoxData,{left:0,top:0,width:0,height:0}),b.cropped=!1,b.renderCropBox(),b.limitCanvas(),b.renderCanvas(),e.removeClass(b.dragBox,"cropper-modal"),e.addClass(b.cropBox,"cropper-hidden")),b},replace:function(b,c){var d=this;return!d.disabled&&b&&(d.isImg&&(d.element.src=b),c?(d.url=b,d.image.src=b,d.ready&&(d.image2.src=b,e.each(d.previews,function(a){e.getByTag(a,"img")[0].src=b}))):(d.isImg&&(d.replaced=!0),d.options.data=null,d.load(b))),d},enable:function(){var b=this;return b.ready&&(b.disabled=!1,e.removeClass(b.cropper,"cropper-disabled")),b},disable:function(){var b=this;return b.ready&&(b.disabled=!0,e.addClass(b.cropper,"cropper-disabled")),
b},destroy:function(){var b=this,c=b.element,d=b.image;return b.loaded?(b.isImg&&b.replaced&&(c.src=b.originalUrl),b.unbuild(),e.removeClass(c,"cropper-hidden")):b.isImg?e.removeListener(c,"load",b.start):d&&e.removeChild(d),e.removeData(c,"cropper"),b},move:function(b,c){var d=this,f=d.canvasData;return d.moveTo(e.isUndefined(b)?b:f.left+Number(b),e.isUndefined(c)?c:f.top+Number(c))},moveTo:function(b,c){var d=this,f=d.canvasData,g=!1;return e.isUndefined(c)&&(c=b),b=Number(b),c=Number(c),d.ready&&!d.disabled&&d.options.movable&&(e.isNumber(b)&&(f.left=b,g=!0),e.isNumber(c)&&(f.top=c,g=!0),g&&d.renderCanvas(!0)),d},zoom:function(b,c){var d=this,e=d.canvasData;return b=Number(b),b=b<0?1/(1-b):1+b,d.zoomTo(e.width*b/e.naturalWidth,c)},zoomTo:function(b,c){var d=this,f=d.options,g=d.canvasData,h=g.width,i=g.height,j=g.naturalWidth,k=g.naturalHeight,l=void 0,m=void 0,n=void 0,o=void 0;if(b=Number(b),b>=0&&d.ready&&!d.disabled&&f.zoomable){if(l=j*b,m=k*b,e.dispatchEvent(d.element,"zoom",{originalEvent:c,oldRatio:h/j,ratio:l/j})===!1)return d;c?(n=e.getOffset(d.cropper),o=c.touches?e.getTouchesCenter(c.touches):{pageX:c.pageX,pageY:c.pageY},g.left-=(l-h)*((o.pageX-n.left-g.left)/h),g.top-=(m-i)*((o.pageY-n.top-g.top)/i)):(g.left-=(l-h)/2,g.top-=(m-i)/2),g.width=l,g.height=m,d.renderCanvas(!0)}return d},rotate:function(b){var c=this;return c.rotateTo((c.imageData.rotate||0)+Number(b))},rotateTo:function(b){var c=this;return b=Number(b),e.isNumber(b)&&c.ready&&!c.disabled&&c.options.rotatable&&(c.imageData.rotate=b%360,c.rotated=!0,c.renderCanvas(!0)),c},scale:function(b,c){var d=this,f=d.imageData,g=!1;return e.isUndefined(c)&&(c=b),b=Number(b),c=Number(c),d.ready&&!d.disabled&&d.options.scalable&&(e.isNumber(b)&&(f.scaleX=b,g=!0),e.isNumber(c)&&(f.scaleY=c,g=!0),g&&d.renderImage(!0)),d},scaleX:function(b){var c=this,d=c.imageData.scaleY;return c.scale(b,e.isNumber(d)?d:1)},scaleY:function(b){var c=this,d=c.imageData.scaleX;return c.scale(e.isNumber(d)?d:1,b)},getData:function(b){var c=this,d=c.options,f=c.imageData,g=c.canvasData,h=c.cropBoxData,i=void 0,j=void 0;return c.ready&&c.cropped?(j={x:h.left-g.left,y:h.top-g.top,width:h.width,height:h.height},i=f.width/f.naturalWidth,e.each(j,function(a,c){a/=i,j[c]=b?Math.round(a):a})):j={x:0,y:0,width:0,height:0},d.rotatable&&(j.rotate=f.rotate||0),d.scalable&&(j.scaleX=f.scaleX||1,j.scaleY=f.scaleY||1),j},setData:function(b){var c=this,d=c.options,f=c.imageData,g=c.canvasData,h={},i=void 0,j=void 0,k=void 0;return e.isFunction(b)&&(b=b.call(c.element)),c.ready&&!c.disabled&&e.isPlainObject(b)&&(d.rotatable&&e.isNumber(b.rotate)&&b.rotate!==f.rotate&&(f.rotate=b.rotate,c.rotated=i=!0),d.scalable&&(e.isNumber(b.scaleX)&&b.scaleX!==f.scaleX&&(f.scaleX=b.scaleX,j=!0),e.isNumber(b.scaleY)&&b.scaleY!==f.scaleY&&(f.scaleY=b.scaleY,j=!0)),i?c.renderCanvas():j&&c.renderImage(),k=f.width/f.naturalWidth,e.isNumber(b.x)&&(h.left=b.x*k+g.left),e.isNumber(b.y)&&(h.top=b.y*k+g.top),e.isNumber(b.width)&&(h.width=b.width*k),e.isNumber(b.height)&&(h.height=b.height*k),c.setCropBoxData(h)),c},getContainerData:function(){var b=this;return b.ready?b.containerData:{}},getImageData:function(){var b=this;return b.loaded?b.imageData:{}},getCanvasData:function(){var b=this,c=b.canvasData,d={};return b.ready&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],function(a){d[a]=c[a]}),d},setCanvasData:function(b){var c=this,d=c.canvasData,f=d.aspectRatio;return e.isFunction(b)&&(b=b.call(c.element)),c.ready&&!c.disabled&&e.isPlainObject(b)&&(e.isNumber(b.left)&&(d.left=b.left),e.isNumber(b.top)&&(d.top=b.top),e.isNumber(b.width)?(d.width=b.width,d.height=b.width/f):e.isNumber(b.height)&&(d.height=b.height,d.width=b.height*f),c.renderCanvas(!0)),c},getCropBoxData:function(){var b=this,c=b.cropBoxData,d=void 0;return b.ready&&b.cropped&&(d={left:c.left,top:c.top,width:c.width,height:c.height}),d||{}},setCropBoxData:function(b){var c=this,d=c.cropBoxData,f=c.options.aspectRatio,g=void 0,h=void 0;return e.isFunction(b)&&(b=b.call(c.element)),c.ready&&c.cropped&&!c.disabled&&e.isPlainObject(b)&&(e.isNumber(b.left)&&(d.left=b.left),e.isNumber(b.top)&&(d.top=b.top),e.isNumber(b.width)&&(g=!0,d.width=b.width),e.isNumber(b.height)&&(h=!0,d.height=b.height),f&&(g?d.height=d.width/f:h&&(d.width=d.height*f)),c.renderCropBox()),c},getCroppedCanvas:function(b){var c=this;if(!c.ready||!window.HTMLCanvasElement)return null;if(!c.cropped)return e.getSourceCanvas(c.image,c.imageData);e.isPlainObject(b)||(b={});var d=c.getData(),f=d.width,h=d.height,i=f/h,j=void 0,k=void 0,l=void 0;e.isPlainObject(b)&&(j=b.width,k=b.height,j?(k=j/i,l=j/f):k&&(j=k*i,l=k/h));var m=Math.floor(j||f),n=Math.floor(k||h),o=e.createElement("canvas"),p=o.getContext("2d");o.width=m,o.height=n,b.fillColor&&(p.fillStyle=b.fillColor,p.fillRect(0,0,m,n));var q=function(){var a=e.getSourceCanvas(c.image,c.imageData),b=a.width,g=a.height,i=c.canvasData,j=[a],k=d.x+i.naturalWidth*(Math.abs(d.scaleX||1)-1)/2,m=d.y+i.naturalHeight*(Math.abs(d.scaleY||1)-1)/2,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;return k<=-f||k>b?k=n=p=r=0:k<=0?(p=-k,k=0,n=r=Math.min(b,f+k)):k<=b&&(p=0,n=r=Math.min(f,b-k)),n<=0||m<=-h||m>g?m=o=q=s=0:m<=0?(q=-m,m=0,o=s=Math.min(g,h+m)):m<=g&&(q=0,o=s=Math.min(h,g-m)),j.push(Math.floor(k),Math.floor(m),Math.floor(n),Math.floor(o)),l&&(p*=l,q*=l,r*=l,s*=l),r>0&&s>0&&j.push(Math.floor(p),Math.floor(q),Math.floor(r),Math.floor(s)),j}();return p.drawImage.apply(p,g(q)),o},setAspectRatio:function(b){var c=this,d=c.options;return c.disabled||e.isUndefined(b)||(d.aspectRatio=Math.max(0,b)||NaN,c.ready&&(c.initCropBox(),c.cropped&&c.renderCropBox())),c},setDragMode:function(b){var c=this,d=c.options,f=c.dragBox,g=c.face,h=void 0,i=void 0;return c.loaded&&!c.disabled&&(h="crop"===b,i=d.movable&&"move"===b,b=h||i?b:"none",e.setData(f,"action",b),e.toggleClass(f,"cropper-crop",h),e.toggleClass(f,"cropper-move",i),d.cropBoxMovable||(e.setData(g,"action",b),e.toggleClass(g,"cropper-crop",h),e.toggleClass(g,"cropper-move",i))),c}}}])});